# RoboticsToolbox ver.C++
### by YangHaixin, SCU, 941705864@qq.com
## 前言
作为一名研究机器人方向的研究生，我最近在进行C++的学习，但苦于没有专业项目练手，故考虑使用C++对Matlab上的RoboticToolbox进行移植，一来是为了锻炼自己的C++能力，二来也顺便复习了机器人知识，希望自己能够坚持下来吧！

开发平台和语音:`Ubuntu18.0.4` `C++`
编辑器:`VS Code`(Vim虽然配置好了，但是还是不太习惯)
目前使用到的第三方库:`Eigen`
**在我完成这个库之前，本文档是我的开发日志和心得体会**

最近更新：2020年10月22日
## 开发日志 
### 2020.10.22
开始了移植工作，此时离我完成C++大致学习过了３天，目前将会使用到`Eigen`这个库来帮助我进行矩阵运算。今天因为有课，还有做项目的关系，只写了个欧拉角求旋转矩阵的函数`EulerRot`。

### 2020.10.24
这两天断断续续地在写，因为做实验花了很多时间。之前还在思考如何用类、设计模式来设计我的这个机器人库，后来发现这样有点太浪费时间了，不如先以函数的形式写好大部分功能，然后再系统的学习一下设计模式，再开始重构一下代码，合理OOP。新增了以下功能：

- `Skew`:求出一个三维向量对应的反对称矩阵，也称为叉乘矩阵，该矩阵可用于向量的叉乘运算:$A\times B=[A]B$，其中$[A]$表示将向量$A$转为反对称矩阵形式；

- `RotX, RotY, RotZ`:绕单坐标轴旋转的旋转矩阵；

- `SE2, SE3`:分别为二维和三维的欧几里得群(Special Euclidean group)，即齐次变换矩阵，目前采用的还是**欧拉角旋转+位移向量**的形式求出齐次变换矩阵，*待完善*；

- `RotMatExp`:矩阵指数的方法求出旋转矩阵，其实就是指定一个在被旋转的坐标系下表示的旋转轴向量，然后指定一个绕该轴旋转的旋转角度，即可求出旋转矩阵；

- `GetRotAxis`:矩阵指数的反运算，矩阵对数。由旋转矩阵反解出矩阵指数所需的旋转轴向量，该向量是在原坐标系下表示的；

- `GetRotTheta`:矩阵对数，求出绕某一轴旋转的角度，该函数需要配合上一个`GetRotAxis`函数使用，目前没想到怎么整合它们两个，*待完善*。

今天就到这里了，周末在家果然不适合学习，再加上导师最近也安排了一些控制理论的学习任务，还是要平衡一下工作节奏。

### 2020.10.27
今天比较忙，上午才慢悠悠返校，下午批改了数据库的作业，顺便学习了一下SQL Server的用法，感觉可以使用数据库存放机械臂信息，然后调用相应数据来进行运动学、动力学计算。今天就只有晚上稍微写了一下代码，还搞忘了一些概念，看了会儿书。

**今日更新**

- `AdjMapMat`:根据齐次变换矩阵求出对应的坐标系转换关系下的伴随变换矩阵，该矩阵主要用于运动旋量的坐标转换；

- `SE3Twist`:根据螺旋轴信息来求解齐次变换矩阵，现在有个问题就是如何准备描述一个螺旋轴？因为之前学习的时候都是直接将这个方法带入了机械臂正运动学中，没有单独进行螺旋轴描述过，所以在测试的时候就有点不知所措，不过目前看来程序是没有问题的；

**Debug**
- 之前的`RotMatExp`函数忘记了将旋转轴化为单位轴，现在是增加了一个判断语句来进行归一化。
- 优化了齐次变换矩阵元素挨次赋值的循环语句，将一些语句放在了外侧循环中，减少了语句的循环次数，虽然这是一个尝试，不过也是之前没有注意到的细节啊！

睡觉。
